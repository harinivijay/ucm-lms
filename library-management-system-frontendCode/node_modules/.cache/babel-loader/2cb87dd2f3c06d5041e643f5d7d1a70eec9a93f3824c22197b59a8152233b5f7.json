{"ast":null,"code":"var _jsxFileName = \"/Users/harinismac/Documents/Fall 2024 Subjects/Adv DBMS/Project/library-management-system-frontend/src/pages/Admin/EditBook.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditBook = () => {\n  _s();\n  const [book, setBook] = useState({});\n  const [formData, setFormData] = useState({\n    bookName: \"\",\n    description: \"\",\n    authorName: \"\",\n    isbnNumber: \"\",\n    edition: 1,\n    category: \"\",\n    isAvailable: true,\n    location: \"\"\n  });\n  const {\n    isbn,\n    location\n  } = useParams(); // Get ISBN and location from the URL\n  const navigate = useNavigate();\n\n  // Fetch book details by ISBN and location\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/lms/books/list?isbn=${isbn}&location=${location}`);\n        setBook(response.data);\n        setFormData({\n          bookName: response.data.bookName,\n          description: response.data.description,\n          authorName: response.data.authorName,\n          isbnNumber: response.data.isbnNumber,\n          edition: response.data.edition,\n          category: response.data.category,\n          isAvailable: response.data.isAvailable,\n          location: response.data.location\n        });\n      } catch (error) {\n        console.error(\"Error fetching book:\", error);\n      }\n    };\n    fetchBook();\n  }, [isbn, location]);\n\n  // Handle form change\n  const handleFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.put(`http://localhost:8080/lms/books/${isbn}`, formData);\n      navigate('/'); // Redirect to the book list page after editing\n    } catch (error) {\n      console.error(\"Error updating book:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Edit Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Book Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"bookName\",\n          value: formData.bookName,\n          onChange: handleFormChange,\n          className: \"input input-bordered w-full mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: formData.description,\n          onChange: handleFormChange,\n          className: \"textarea textarea-bordered w-full mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"authorName\",\n          value: formData.authorName,\n          onChange: handleFormChange,\n          className: \"input input-bordered w-full mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          value: formData.category,\n          onChange: handleFormChange,\n          className: \"input input-bordered w-full mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          value: formData.location,\n          onChange: handleFormChange,\n          className: \"input input-bordered w-full mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success\",\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(EditBook, \"T2G6ZkKEGtgUhJZjt883jy4W7Kw=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditBook;\nexport default EditBook;\nvar _c;\n$RefreshReg$(_c, \"EditBook\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","jsxDEV","_jsxDEV","EditBook","_s","book","setBook","formData","setFormData","bookName","description","authorName","isbnNumber","edition","category","isAvailable","location","isbn","navigate","fetchBook","response","get","data","error","console","handleFormChange","e","name","value","target","handleSubmit","preventDefault","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","_c","$RefreshReg$"],"sources":["/Users/harinismac/Documents/Fall 2024 Subjects/Adv DBMS/Project/library-management-system-frontend/src/pages/Admin/EditBook.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nconst EditBook = () => {\n  const [book, setBook] = useState({});\n  const [formData, setFormData] = useState({\n    bookName: \"\",\n    description: \"\",\n    authorName: \"\",\n    isbnNumber: \"\",\n    edition: 1,\n    category: \"\",\n    isAvailable: true,\n    location: \"\",\n  });\n  const { isbn, location } = useParams(); // Get ISBN and location from the URL\n  const navigate = useNavigate();\n\n  // Fetch book details by ISBN and location\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/lms/books/list?isbn=${isbn}&location=${location}`);\n        setBook(response.data);\n        setFormData({\n          bookName: response.data.bookName,\n          description: response.data.description,\n          authorName: response.data.authorName,\n          isbnNumber: response.data.isbnNumber,\n          edition: response.data.edition,\n          category: response.data.category,\n          isAvailable: response.data.isAvailable,\n          location: response.data.location,\n        });\n      } catch (error) {\n        console.error(\"Error fetching book:\", error);\n      }\n    };\n    fetchBook();\n  }, [isbn, location]);\n\n  // Handle form change\n  const handleFormChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.put(`http://localhost:8080/lms/books/${isbn}`, formData);\n      navigate('/'); // Redirect to the book list page after editing\n    } catch (error) {\n      console.error(\"Error updating book:\", error);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h2 className=\"text-2xl font-semibold mb-4\">Edit Book</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Book Name</label>\n          <input\n            type=\"text\"\n            name=\"bookName\"\n            value={formData.bookName}\n            onChange={handleFormChange}\n            className=\"input input-bordered w-full mb-4\"\n          />\n        </div>\n        <div>\n          <label>Description</label>\n          <textarea\n            name=\"description\"\n            value={formData.description}\n            onChange={handleFormChange}\n            className=\"textarea textarea-bordered w-full mb-4\"\n          />\n        </div>\n        <div>\n          <label>Author</label>\n          <input\n            type=\"text\"\n            name=\"authorName\"\n            value={formData.authorName}\n            onChange={handleFormChange}\n            className=\"input input-bordered w-full mb-4\"\n          />\n        </div>\n        <div>\n          <label>Category</label>\n          <input\n            type=\"text\"\n            name=\"category\"\n            value={formData.category}\n            onChange={handleFormChange}\n            className=\"input input-bordered w-full mb-4\"\n          />\n        </div>\n        <div>\n          <label>Location</label>\n          <input\n            type=\"text\"\n            name=\"location\"\n            value={formData.location}\n            onChange={handleFormChange}\n            className=\"input input-bordered w-full mb-4\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-success\">\n          Save Changes\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditBook;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC;IACvCa,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACfC,UAAU,EAAE,EAAE;IACdC,UAAU,EAAE,EAAE;IACdC,OAAO,EAAE,CAAC;IACVC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,IAAI;IACjBC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAM;IAAEC,IAAI;IAAED;EAAS,CAAC,GAAGhB,SAAS,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMkB,QAAQ,GAAGnB,WAAW,CAAC,CAAC;;EAE9B;EACAF,SAAS,CAAC,MAAM;IACd,MAAMsB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAAC,6CAA6CJ,IAAI,aAAaD,QAAQ,EAAE,CAAC;QAC1GV,OAAO,CAACc,QAAQ,CAACE,IAAI,CAAC;QACtBd,WAAW,CAAC;UACVC,QAAQ,EAAEW,QAAQ,CAACE,IAAI,CAACb,QAAQ;UAChCC,WAAW,EAAEU,QAAQ,CAACE,IAAI,CAACZ,WAAW;UACtCC,UAAU,EAAES,QAAQ,CAACE,IAAI,CAACX,UAAU;UACpCC,UAAU,EAAEQ,QAAQ,CAACE,IAAI,CAACV,UAAU;UACpCC,OAAO,EAAEO,QAAQ,CAACE,IAAI,CAACT,OAAO;UAC9BC,QAAQ,EAAEM,QAAQ,CAACE,IAAI,CAACR,QAAQ;UAChCC,WAAW,EAAEK,QAAQ,CAACE,IAAI,CAACP,WAAW;UACtCC,QAAQ,EAAEI,QAAQ,CAACE,IAAI,CAACN;QAC1B,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IACDJ,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACF,IAAI,EAAED,QAAQ,CAAC,CAAC;;EAEpB;EACA,MAAMS,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCrB,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAACoB,IAAI,GAAGC;IACV,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAME,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMjC,KAAK,CAACkC,GAAG,CAAC,mCAAmCf,IAAI,EAAE,EAAEV,QAAQ,CAAC;MACpEW,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,oBACErB,OAAA;IAAK+B,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpChC,OAAA;MAAI+B,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1DpC,OAAA;MAAMqC,QAAQ,EAAET,YAAa;MAAAI,QAAA,gBAC3BhC,OAAA;QAAAgC,QAAA,gBACEhC,OAAA;UAAAgC,QAAA,EAAO;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxBpC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXb,IAAI,EAAC,UAAU;UACfC,KAAK,EAAErB,QAAQ,CAACE,QAAS;UACzBgC,QAAQ,EAAEhB,gBAAiB;UAC3BQ,SAAS,EAAC;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpC,OAAA;QAAAgC,QAAA,gBACEhC,OAAA;UAAAgC,QAAA,EAAO;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC1BpC,OAAA;UACEyB,IAAI,EAAC,aAAa;UAClBC,KAAK,EAAErB,QAAQ,CAACG,WAAY;UAC5B+B,QAAQ,EAAEhB,gBAAiB;UAC3BQ,SAAS,EAAC;QAAwC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpC,OAAA;QAAAgC,QAAA,gBACEhC,OAAA;UAAAgC,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrBpC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXb,IAAI,EAAC,YAAY;UACjBC,KAAK,EAAErB,QAAQ,CAACI,UAAW;UAC3B8B,QAAQ,EAAEhB,gBAAiB;UAC3BQ,SAAS,EAAC;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpC,OAAA;QAAAgC,QAAA,gBACEhC,OAAA;UAAAgC,QAAA,EAAO;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvBpC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXb,IAAI,EAAC,UAAU;UACfC,KAAK,EAAErB,QAAQ,CAACO,QAAS;UACzB2B,QAAQ,EAAEhB,gBAAiB;UAC3BQ,SAAS,EAAC;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpC,OAAA;QAAAgC,QAAA,gBACEhC,OAAA;UAAAgC,QAAA,EAAO;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvBpC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXb,IAAI,EAAC,UAAU;UACfC,KAAK,EAAErB,QAAQ,CAACS,QAAS;UACzByB,QAAQ,EAAEhB,gBAAiB;UAC3BQ,SAAS,EAAC;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpC,OAAA;QAAQsC,IAAI,EAAC,QAAQ;QAACP,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAC;MAElD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAClC,EAAA,CArHID,QAAQ;EAAA,QAYeH,SAAS,EACnBD,WAAW;AAAA;AAAA2C,EAAA,GAbxBvC,QAAQ;AAuHd,eAAeA,QAAQ;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}